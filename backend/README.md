# ç¿»è¯‘ç³»ç»Ÿåç«¯æœåŠ¡

å®æ—¶è¯­éŸ³ç¿»è¯‘ç³»ç»Ÿçš„åç«¯åè°ƒæœåŠ¡ï¼Œè´Ÿè´£å‰ç«¯ä¸AIæœåŠ¡ä¹‹é—´çš„é€šä¿¡åè°ƒã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ¤ è¯­éŸ³è½¬æ–‡å­—è½¬å‘
- ğŸŒ æ–‡æœ¬ç¿»è¯‘è½¬å‘  
- ğŸ”Œ WebSocket å®æ—¶é€šä¿¡
- ğŸ“ æ–‡ä»¶ä¸Šä¼ å¤„ç†
- ğŸ¥ å¥åº·æ£€æŸ¥ç›‘æ§
- ğŸ“Š è¿æ¥çŠ¶æ€ç»Ÿè®¡
- ğŸ›¡ï¸ é”™è¯¯å¤„ç†å’Œé‡è¯•
- ğŸ“ å®Œæ•´æ—¥å¿—è®°å½•

## ç›®å½•ç»“æ„

```
backend/
â”œâ”€â”€ middleware/          # ä¸­é—´ä»¶
â”‚   â””â”€â”€ index.js        # é€šç”¨ä¸­é—´ä»¶é›†åˆ
â”œâ”€â”€ routes/             # è·¯ç”±æ¨¡å—
â”‚   â”œâ”€â”€ health.js       # å¥åº·æ£€æŸ¥è·¯ç”±
â”‚   â””â”€â”€ audio.js        # éŸ³é¢‘å¤„ç†è·¯ç”±
â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ logger.js       # æ—¥å¿—å·¥å…·
â”‚   â””â”€â”€ request.js      # HTTPè¯·æ±‚å·¥å…·
â”œâ”€â”€ websocket/          # WebSocketå¤„ç†
â”‚   â””â”€â”€ handlers.js     # Socketäº‹ä»¶å¤„ç†å™¨
â”œâ”€â”€ uploads/            # ä¸´æ—¶æ–‡ä»¶ç›®å½•
â”œâ”€â”€ logs/              # æ—¥å¿—æ–‡ä»¶ç›®å½•
â”œâ”€â”€ server.js          # ä¸»æœåŠ¡æ–‡ä»¶
â”œâ”€â”€ package.json       # é¡¹ç›®é…ç½®
â””â”€â”€ .env.example       # ç¯å¢ƒå˜é‡ç¤ºä¾‹
```

## ç¯å¢ƒå˜é‡

å¤åˆ¶ `.env.example` ä¸º `.env` å¹¶é…ç½®ï¼š

```bash
# æœåŠ¡ç«¯å£
PORT=8000

# AI æœåŠ¡åœ°å€
WHISPER_URL=http://whisper-service:8000
TRANSLATOR_URL=http://translator-service:8000

# CORS é…ç½®
CORS_ORIGIN=http://localhost:3000

# å…¶ä»–é…ç½®...
```

## å¼€å‘è¿è¡Œ

```bash
# å®‰è£…ä¾èµ–
npm install

# å¼€å‘æ¨¡å¼
npm run dev

# ç”Ÿäº§æ¨¡å¼
npm start
```

## API æ¥å£

### å¥åº·æ£€æŸ¥
- `GET /health` - æœåŠ¡å¥åº·çŠ¶æ€
- `GET /api/health` - è¯¦ç»†å¥åº·æ£€æŸ¥
- `GET /api/info` - ç³»ç»Ÿä¿¡æ¯
- `GET /api/stats` - è¿æ¥ç»Ÿè®¡

### éŸ³é¢‘å¤„ç†
- `POST /transcribe` - è¯­éŸ³è½¬æ–‡å­—
- `POST /translate` - æ–‡æœ¬ç¿»è¯‘
- `GET /languages` - æ”¯æŒçš„è¯­è¨€

## WebSocket äº‹ä»¶

### å®¢æˆ·ç«¯å‘é€
- `audio_transcribe` - éŸ³é¢‘è½¬å½•è¯·æ±‚
- `translate_request` - ç¿»è¯‘è¯·æ±‚
- `detect_language` - è¯­è¨€æ£€æµ‹
- `ping` - å¿ƒè·³æ£€æµ‹

### æœåŠ¡ç«¯å‘é€
- `transcription_result` - è½¬å½•ç»“æœ
- `translation_result` - ç¿»è¯‘ç»“æœ
- `processing_status` - å¤„ç†çŠ¶æ€
- `language_detected` - æ£€æµ‹åˆ°çš„è¯­è¨€
- `pong` - å¿ƒè·³å“åº”

## æ—¥å¿—

æ—¥å¿—æ–‡ä»¶å­˜å‚¨åœ¨ `logs/` ç›®å½•ï¼š
- `combined.log` - æ‰€æœ‰æ—¥å¿—
- `error.log` - é”™è¯¯æ—¥å¿—

## Docker éƒ¨ç½²

ä½¿ç”¨é¡¹ç›®æ ¹ç›®å½•çš„ `docker-compose.yml` è¿›è¡Œå®¹å™¨åŒ–éƒ¨ç½²ã€‚
